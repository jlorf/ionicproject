{"ast":null,"code":"const startHardwareBackButton = () => {\n  const doc = document;\n  let busy = false;\n  doc.addEventListener('backbutton', () => {\n    if (busy) {\n      return;\n    }\n\n    const handlers = [];\n    const ev = new CustomEvent('ionBackButton', {\n      bubbles: false,\n      detail: {\n        register(priority, handler) {\n          handlers.push({\n            priority,\n            handler\n          });\n        }\n\n      }\n    });\n    doc.dispatchEvent(ev);\n\n    if (handlers.length > 0) {\n      let selectedPriority = Number.MIN_SAFE_INTEGER;\n      let selectedHandler;\n      handlers.forEach(({\n        priority,\n        handler\n      }) => {\n        if (priority >= selectedPriority) {\n          selectedPriority = priority;\n          selectedHandler = handler;\n        }\n      });\n      busy = true;\n      executeAction(selectedHandler).then(() => busy = false);\n    }\n  });\n};\n\nconst executeAction = async handler => {\n  try {\n    if (handler) {\n      const result = handler();\n\n      if (result != null) {\n        await result;\n      }\n    }\n  } catch (e) {\n    console.error(e);\n  }\n};\n\nconst OVERLAY_BACK_BUTTON_PRIORITY = 100;\nconst MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays\n\nexport { MENU_BACK_BUTTON_PRIORITY, OVERLAY_BACK_BUTTON_PRIORITY, startHardwareBackButton };","map":{"version":3,"sources":["/home/joel/projecteionic/node_modules/@ionic/core/dist/esm-es5/hardware-back-button-784b7e3c.js"],"names":["startHardwareBackButton","doc","document","busy","addEventListener","handlers","ev","CustomEvent","bubbles","detail","register","priority","handler","push","dispatchEvent","length","selectedPriority","Number","MIN_SAFE_INTEGER","selectedHandler","forEach","executeAction","then","result","e","console","error","OVERLAY_BACK_BUTTON_PRIORITY","MENU_BACK_BUTTON_PRIORITY"],"mappings":"AAAA,MAAMA,uBAAuB,GAAG,MAAM;AAClC,QAAMC,GAAG,GAAGC,QAAZ;AACA,MAAIC,IAAI,GAAG,KAAX;AACAF,EAAAA,GAAG,CAACG,gBAAJ,CAAqB,YAArB,EAAmC,MAAM;AACrC,QAAID,IAAJ,EAAU;AACN;AACH;;AACD,UAAME,QAAQ,GAAG,EAAjB;AACA,UAAMC,EAAE,GAAG,IAAIC,WAAJ,CAAgB,eAAhB,EAAiC;AACxCC,MAAAA,OAAO,EAAE,KAD+B;AAExCC,MAAAA,MAAM,EAAE;AACJC,QAAAA,QAAQ,CAACC,QAAD,EAAWC,OAAX,EAAoB;AACxBP,UAAAA,QAAQ,CAACQ,IAAT,CAAc;AAAEF,YAAAA,QAAF;AAAYC,YAAAA;AAAZ,WAAd;AACH;;AAHG;AAFgC,KAAjC,CAAX;AAQAX,IAAAA,GAAG,CAACa,aAAJ,CAAkBR,EAAlB;;AACA,QAAID,QAAQ,CAACU,MAAT,GAAkB,CAAtB,EAAyB;AACrB,UAAIC,gBAAgB,GAAGC,MAAM,CAACC,gBAA9B;AACA,UAAIC,eAAJ;AACAd,MAAAA,QAAQ,CAACe,OAAT,CAAiB,CAAC;AAAET,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,OAAD,KAA2B;AACxC,YAAID,QAAQ,IAAIK,gBAAhB,EAAkC;AAC9BA,UAAAA,gBAAgB,GAAGL,QAAnB;AACAQ,UAAAA,eAAe,GAAGP,OAAlB;AACH;AACJ,OALD;AAMAT,MAAAA,IAAI,GAAG,IAAP;AACAkB,MAAAA,aAAa,CAACF,eAAD,CAAb,CAA+BG,IAA/B,CAAoC,MAAMnB,IAAI,GAAG,KAAjD;AACH;AACJ,GA1BD;AA2BH,CA9BD;;AA+BA,MAAMkB,aAAa,GAAG,MAAOT,OAAP,IAAmB;AACrC,MAAI;AACA,QAAIA,OAAJ,EAAa;AACT,YAAMW,MAAM,GAAGX,OAAO,EAAtB;;AACA,UAAIW,MAAM,IAAI,IAAd,EAAoB;AAChB,cAAMA,MAAN;AACH;AACJ;AACJ,GAPD,CAQA,OAAOC,CAAP,EAAU;AACNC,IAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACH;AACJ,CAZD;;AAaA,MAAMG,4BAA4B,GAAG,GAArC;AACA,MAAMC,yBAAyB,GAAG,EAAlC,C,CAAsC;;AAEtC,SAASA,yBAAT,EAAoCD,4BAApC,EAAkE3B,uBAAlE","sourcesContent":["const startHardwareBackButton = () => {\n    const doc = document;\n    let busy = false;\n    doc.addEventListener('backbutton', () => {\n        if (busy) {\n            return;\n        }\n        const handlers = [];\n        const ev = new CustomEvent('ionBackButton', {\n            bubbles: false,\n            detail: {\n                register(priority, handler) {\n                    handlers.push({ priority, handler });\n                }\n            }\n        });\n        doc.dispatchEvent(ev);\n        if (handlers.length > 0) {\n            let selectedPriority = Number.MIN_SAFE_INTEGER;\n            let selectedHandler;\n            handlers.forEach(({ priority, handler }) => {\n                if (priority >= selectedPriority) {\n                    selectedPriority = priority;\n                    selectedHandler = handler;\n                }\n            });\n            busy = true;\n            executeAction(selectedHandler).then(() => busy = false);\n        }\n    });\n};\nconst executeAction = async (handler) => {\n    try {\n        if (handler) {\n            const result = handler();\n            if (result != null) {\n                await result;\n            }\n        }\n    }\n    catch (e) {\n        console.error(e);\n    }\n};\nconst OVERLAY_BACK_BUTTON_PRIORITY = 100;\nconst MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays\n\nexport { MENU_BACK_BUTTON_PRIORITY, OVERLAY_BACK_BUTTON_PRIORITY, startHardwareBackButton };\n"]},"metadata":{},"sourceType":"module"}